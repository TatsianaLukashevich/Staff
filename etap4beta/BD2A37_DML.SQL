spool BD2A37_DML.LIS 


INSERT INTO JEDNOSTKI_ORGANIZACYJNE (KOD_ORGANIZACJI, NAZWA)
VALUES ('3','Analityka');


SELECT *
FROM JEDNOSTKI_ORGANIZACYJNE;

INSERT INTO STANOWISKA (KOD_STANOWISKA, NAZWA, STATUS)
VALUES ('6','Zastepca ksiegowej', 'Tak');

SELECT *
FROM STANOWISKA;

INSERT INTO PRACOWNICY (ID_PRACOWNIKA, NAZWISKO, IMIE, PESEL)
VALUES ('6','TOMASZEWSKA', 'Joanna', '14099575663');

SELECT *
FROM PRACOWNICY;

INSERT INTO STANOWISKA_PRACOWNIKOW (KOD_ORGANIZACJI, KOD_STANOWISKA, ID_PRACOWNIKA, DATA_ROZPOCZECIA)
VALUES ('2','6','6',TO_DATE('16/01/24','YY/MM/DD'));


SELECT *
FROM STANOWISKA_PRACOWNIKOW;


UPDATE PRACOWNICY
SET IMIE='Kasia'
WHERE ID_PRACOWNIKA='6';

SELECT *
FROM PRACOWNICY;

UPDATE STANOWISKA
SET NAZWA='Zastepca'
WHERE KOD_STANOWISKA='6';

SELECT *
FROM STANOWISKA;

DELETE FROM STANOWISKA_PRACOWNIKOW
WHERE KOD_ORGANIZACJI='2' AND KOD_STANOWISKA='6' AND ID_PRACOWNIKA='6';

SELECT *
FROM STANOWISKA_PRACOWNIKOW;

DELETE FROM STANOWISKA
WHERE KOD_STANOWISKA='6';

SELECT *
FROM STANOWISKA;

DELETE FROM PRACOWNICY
WHERE ID_PRACOWNIKA='6';

SELECT *
FROM PRACOWNICY;

DELETE FROM JEDNOSTKI_ORGANIZACYJNE
WHERE KOD_ORGANIZACJI='3';

SELECT *
FROM JEDNOSTKI_ORGANIZACYJNE;


--Proba wstawienia nazwy jednostki organizacji wiecej niz 10
INSERT INTO JEDNOSTKI_ORGANIZACYJNE (KOD_ORGANIZACJI, NAZWA)
VALUES ('1','Zarzadzanie personelem');

SELECT *
FROM JEDNOSTKI_ORGANIZACYJNE;


--Proba podania w tabele stanowiska tylko id pracownika,nie jest dozwolone pozostawienie innych kolumn null
INSERT INTO STANOWISKA_PRACOWNIKOW (ID_PRACOWNIKA)
VALUES ('1234567');

SELECT *
FROM STANOWISKA_PRACOWNIKOW;

--Sprawdzenie dzialania sequences(dodaje 1)
INSERT INTO STANOWISKA (KOD_STANOWISKA, NAZWA, STATUS)
VALUES (DODAJ1.NEXTVAL,'Specjalista rozliczen', 'Nie');


INSERT INTO STANOWISKA (KOD_STANOWISKA, NAZWA, STATUS)
VALUES (DODAJ1.NEXTVAL,'Zastepca kierownika', 'Nie');

SELECT *
FROM STANOWISKA;


DELETE FROM STANOWISKA
WHERE KOD_STANOWISKA='6';

DELETE FROM STANOWISKA
WHERE KOD_STANOWISKA='7';

SELECT *
FROM STANOWISKA;

--sprawdzenie triggera, ktory nie pozwala usunac stanowisko:kierownik lub ksiegowa
DELETE FROM STANOWISKA
WHERE KOD_STANOWISKA='4';

SELECT *
FROM STANOWISKA;

--sprawdzenie triggera, ktory nie pozwala usunac jedn_org:kierowanie lub finansy
DELETE FROM JEDNOSTKI_ORGANIZACYJNE
WHERE KOD_ORGANIZACJI='1';

SELECT *
FROM JEDNOSTKI_ORGANIZACYJNE;



spool off